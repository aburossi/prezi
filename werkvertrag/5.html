<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Erste Einschätzung: Wo liegt das Problem?</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f4f8; /* A neutral background for the page */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 1rem;
        }
        .slide {
            width: 100%;
            max-width: 1280px; /* Max-width for large screens */
            min-height: 720px;
            overflow: hidden;
            position: relative;
            background: linear-gradient(135deg, #f0f9ff 0%, #e6f7ff 100%);
            display: flex;
            flex-direction: column;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border-radius: 16px;
        }
        .quiz-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .quiz-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
        }
        .option {
            transition: all 0.2s ease;
            border: 2px solid #e5e7eb;
            cursor: pointer;
        }
        .option:hover {
            background-color: #f0f9ff;
            border-color: #93c5fd;
        }
        .option.correct {
            background-color: #dcfce7;
            border-color: #22c55e;
            animation: pulse-green 1.5s infinite;
        }
        .option.incorrect {
            background-color: #fee2e2;
            border-color: #ef4444;
            animation: pulse-red 1.5s infinite;
        }
        .feedback {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, padding 0.5s ease-out;
            border-radius: 8px;
        }
        .feedback.show {
            max-height: 200px; /* Adjust as needed for content */
            margin-top: 1rem; /* Add space when it appears */
            padding: 0.75rem; /* This is equivalent to Tailwind's p-3 */
        }
        .progress-bar-bg {
            background-color: #e5e7eb;
        }
        .progress-bar {
            height: 8px;
            border-radius: 4px;
            background: linear-gradient(90deg, #3b82f6 0%, #93c5fd 100%);
            transition: width 0.5s ease-out;
        }
        .quiz-header {
            background: linear-gradient(90deg, #3b82f6 0%, #60a5fa 100%);
        }
        .quiz-number {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: #3b82f6;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            flex-shrink: 0;
        }
        .nav-button {
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); }
            100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
        }
        @keyframes pulse-red {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }
    </style>
</head>
<body>
    <div class="slide">
        <!-- Header with blue accent -->
        <div class="h-16 bg-blue-600 w-full flex items-center justify-between px-8 rounded-t-lg">
            <h2 class="text-white text-2xl font-medium">Rechtliche Problemidentifikation</h2>
            <div class="text-white text-lg font-light">Analyse der Ausgangssituation</div>
        </div>
        
        <!-- Main content area -->
        <div class="flex-grow flex flex-col px-12 py-8 overflow-y-auto">
            <!-- Title -->
            <div class="mb-6">
                <h1 class="text-4xl font-bold text-gray-800">Erste Einschätzung: Wo liegt das Problem?</h1>
                <div class="w-32 h-1 bg-blue-500 mt-2 rounded"></div>
            </div>
            
            <!-- Progress bar -->
            <div class="w-full progress-bar-bg rounded-full mb-8">
                <div id="progressBar" class="progress-bar" style="width: 0%;"></div>
            </div>
            
            <!-- Quiz content -->
            <div class="quiz-card p-6 mb-6">
                <!-- Question 1 -->
                <div class="quiz-question mb-8">
                    <div class="flex items-center mb-4">
                        <div class="quiz-number mr-3">1</div>
                        <h3 class="text-xl font-bold text-gray-800">Was ist das wahrscheinlichste rechtliche Problem, wenn ein neu installiertes Heizsystem nicht ordnungsgemäss funktioniert?</h3>
                    </div>
                    
                    <div class="space-y-3 ml-12">
                        <div class="option p-3 rounded-lg flex items-center" data-correct="true">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Der Mangel am Werk.</span>
                        </div>
                        <div class="option p-3 rounded-lg flex items-center" data-correct="false">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Es handelt sich um einen Bedienungsfehler des Nutzers, der das System falsch eingestellt hat und dadurch die Funktionalität beeinträchtigt.</span>
                        </div>
                        <div class="option p-3 rounded-lg flex items-center" data-correct="false">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Eine Überschreitung der Garantiezeit.</span>
                        </div>
                        <div class="option p-3 rounded-lg flex items-center" data-correct="false">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Ein neuer, nicht vereinbarter Auftrag.</span>
                        </div>
                    </div>
                    
                    <div class="feedback">
                        <p class="font-medium">Ein nicht ordnungsgemäss funktionierendes, neu installiertes System deutet meist auf einen Mangel am Werk hin, da es die vertraglich zugesicherte oder übliche Funktion nicht erfüllt.</p>
                    </div>
                </div>
                
                <!-- Question 2 -->
                <div class="quiz-question mb-8">
                    <div class="flex items-center mb-4">
                        <div class="quiz-number mr-3">2</div>
                        <h3 class="text-xl font-bold text-gray-800">Ein Kunde beschwert sich über eine Softwarefunktion, die nicht wie erwartet funktioniert, obwohl sie nie Teil der ursprünglichen Spezifikationen war. Welches Problem liegt hier am ehesten vor?</h3>
                    </div>
                    
                    <div class="space-y-3 ml-12">
                        <div class="option p-3 rounded-lg flex items-center" data-correct="false">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Es liegt ein Mangel am Werk vor, da die Software nicht alle ungesprochenen Anforderungen des Kunden erfüllt, die er sich vorgestellt hat.</span>
                        </div>
                        <div class="option p-3 rounded-lg flex items-center" data-correct="true">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Fehlende Spezifikation oder unklare Erwartungshaltung.</span>
                        </div>
                        <div class="option p-3 rounded-lg flex items-center" data-correct="false">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Bedienungsfehler seitens des Kunden.</span>
                        </div>
                        <div class="option p-3 rounded-lg flex items-center" data-correct="false">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Ein Problem mit der Kompatibilität anderer Systeme.</span>
                        </div>
                    </div>
                    
                    <div class="feedback">
                        <p class="font-medium">Wenn eine Funktion nicht spezifiziert war, handelt es sich nicht um einen Mangel am Werk, sondern um eine Diskrepanz zwischen Kundenerwartung und vertraglicher Vereinbarung.</p>
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="quiz-question mb-8">
                    <div class="flex items-center mb-4">
                        <div class="quiz-number mr-3">3</div>
                        <h3 class="text-xl font-bold text-gray-800">Nach einer Autoreparatur leuchtet die Motorkontrollleuchte auf, und die Werkstatt behauptet, dies sei unabhängig von ihrer Arbeit. Wie würden Sie die Situation rechtlich primär einordnen?</h3>
                    </div>
                    
                    <div class="space-y-3 ml-12">
                        <div class="option p-3 rounded-lg flex items-center" data-correct="false">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Es handelt sich um einen klaren Mangel am Werk der Werkstatt, da das Fahrzeug nach der Reparatur nicht einwandfrei funktioniert und dies direkt mit der ausgeführten Arbeit zusammenhängt.</span>
                        </div>
                        <div class="option p-3 rounded-lg flex items-center" data-correct="true">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Ein neues, unabhängiges Problem oder Folgefehler.</span>
                        </div>
                        <div class="option p-3 rounded-lg flex items-center" data-correct="false">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Bedienungsfehler des Fahrers.</span>
                        </div>
                        <div class="option p-3 rounded-lg flex items-center" data-correct="false">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Ein Fall von höherer Gewalt.</span>
                        </div>
                    </div>
                    
                    <div class="feedback">
                        <p class="font-medium">Ohne weitere Prüfung ist es schwierig zu sagen, ob ein Zusammenhang besteht. Es könnte ein neuer, unabhängiger Defekt sein, der zufällig auftritt, oder ein Folgefehler der Reparatur.</p>
                    </div>
                </div>

                <!-- Question 4 -->
                <div class="quiz-question mb-8">
                    <div class="flex items-center mb-4">
                        <div class="quiz-number mr-3">4</div>
                        <h3 class="text-xl font-bold text-gray-800">Ein geliefertes Produkt weist einen kleinen Kratzer auf, dessen Funktionalität jedoch nicht beeinträchtigt ist. Handelt es sich hier um einen rechtlich relevanten Mangel?</h3>
                    </div>
                    
                    <div class="space-y-3 ml-12">
                        <div class="option p-3 rounded-lg flex items-center" data-correct="false">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Ja, da jede Abweichung vom Neuzustand, auch rein optischer Natur, einen rechtlichen Mangel darstellt, der zur Minderung des Kaufpreises berechtigt.</span>
                        </div>
                        <div class="option p-3 rounded-lg flex items-center" data-correct="true">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Nein, da die Funktion nicht beeinträchtigt ist, es sei denn, die Optik war explizit zugesichert.</span>
                        </div>
                        <div class="option p-3 rounded-lg flex items-center" data-correct="false">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Nur wenn der Kratzer die Sicherheit beeinträchtigt.</span>
                        </div>
                        <div class="option p-3 rounded-lg flex items-center" data-correct="false">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Nur wenn der Kratzer grösser als 1 cm ist.</span>
                        </div>
                    </div>
                    
                    <div class="feedback">
                        <p class="font-medium">Ein Mangel liegt vor, wenn das Werk nicht die vereinbarten oder üblichen Eigenschaften aufweist. Ein rein optischer Mangel, der die Funktion nicht beeinträchtigt, ist nur dann rechtlich relevant, wenn eine einwandfreie Optik explizit zugesichert wurde.</p>
                    </div>
                </div>

                <!-- Question 5 -->
                <div class="quiz-question mb-8">
                    <div class="flex items-center mb-4">
                        <div class="quiz-number mr-3">5</div>
                        <h3 class="text-xl font-bold text-gray-800">Ein Dienstleister hat seine Arbeit gemäss den vereinbarten Spezifikationen erbracht, aber der Kunde ist mit dem Ergebnis subjektiv unzufrieden. Welches rechtliche Problem ist hier am wahrscheinlichsten?</h3>
                    </div>
                    
                    <div class="space-y-3 ml-12">
                        <div class="option p-3 rounded-lg flex items-center" data-correct="false">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Es liegt ein Mangel am Werk vor, da das Ergebnis nicht den Vorstellungen des Kunden entspricht, auch wenn diese nicht explizit vertraglich festgehalten wurden.</span>
                        </div>
                        <div class="option p-3 rounded-lg flex items-center" data-correct="true">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Unklare Erwartungshaltung des Kunden oder subjektive Unzufriedenheit.</span>
                        </div>
                        <div class="option p-3 rounded-lg flex items-center" data-correct="false">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Bedienungsfehler des Kunden.</span>
                        </div>
                        <div class="option p-3 rounded-lg flex items-center" data-correct="false">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-300 mr-3 flex-shrink-0"></div>
                            <span>Der Dienstleister hat seine Sorgfaltspflicht verletzt.</span>
                        </div>
                    </div>
                    
                    <div class="feedback">
                        <p class="font-medium">Wenn die Leistung den Spezifikationen entspricht, aber der Kunde subjektiv unzufrieden ist, liegt in der Regel kein rechtlicher Mangel vor, sondern eine Diskrepanz zwischen Erwartung und Vertrag. Eine klare Spezifikation ist entscheidend.</p>
                    </div>
                </div>
            </div>
            
            <!-- Navigation buttons -->
            <div class="flex justify-between mt-auto pt-6">
                <button id="resetButton" class="nav-button bg-gray-200 text-gray-700 px-6 py-3 rounded-lg flex items-center font-medium">
                    <i class="fas fa-redo mr-2"></i>
                    <span>Zurücksetzen</span>
                </button>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="h-12 bg-blue-600 w-full flex items-center justify-between px-8 rounded-b-lg">
            <span class="text-white text-sm">Erste Einschätzung: Wo liegt das Problem?</span>
            <span id="progressText" class="text-white text-sm">0/5</span>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- Get all necessary elements ---
            const questions = document.querySelectorAll('.quiz-question');
            const resetButton = document.getElementById('resetButton');
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            const totalQuestions = questions.length;
            let questionsAnswered = 0;

            // --- Function to update the progress bar and text ---
            function updateProgress() {
                questionsAnswered++;
                const percentage = (questionsAnswered / totalQuestions) * 100;
                progressBar.style.width = `${percentage}%`;
                progressText.textContent = `${questionsAnswered}/${totalQuestions}`;
            }

            // --- Initialize each question ---
            questions.forEach((question) => {
                const options = question.querySelectorAll('.option');
                const feedbackElement = question.querySelector('.feedback');
                const feedbackParagraph = feedbackElement.querySelector('p');
                const correctExplanationHTML = feedbackParagraph.innerHTML; // Store original explanation
                let answered = false;

                // Hide feedback initially by ensuring it has no 'show' class
                feedbackElement.classList.remove('show');
                // Reset feedback styling
                feedbackElement.classList.remove('bg-green-50', 'bg-red-50');
                feedbackParagraph.classList.remove('text-green-700', 'text-red-700');


                options.forEach(option => {
                    option.addEventListener('click', function() {
                        if (answered) return; // Prevent re-answering
                        answered = true;
                        updateProgress();

                        // Disable all options in this question after answering
                        options.forEach(opt => {
                            opt.style.pointerEvents = 'none';
                            opt.style.cursor = 'default';
                        });

                        const isCorrect = this.getAttribute('data-correct') === 'true';
                        const radioCircle = this.querySelector('.w-6');

                        if (isCorrect) {
                            // --- Correct answer logic ---
                            this.classList.add('correct');
                            radioCircle.classList.remove('border-gray-300');
                            radioCircle.classList.add('bg-green-500', 'border-green-500');
                            radioCircle.innerHTML = `<i class="fas fa-check text-white text-xs flex items-center justify-center h-full"></i>`;

                            // Style and populate feedback for correct answer
                            feedbackElement.classList.add('bg-green-50');
                            feedbackParagraph.classList.add('text-green-700');
                            feedbackParagraph.innerHTML = `<i class="fas fa-check-circle mr-2"></i>${correctExplanationHTML}`;

                        } else {
                            // --- Incorrect answer logic ---
                            this.classList.add('incorrect');
                            radioCircle.classList.remove('border-gray-300');
                            radioCircle.classList.add('bg-red-500', 'border-red-500');
                            radioCircle.innerHTML = `<i class="fas fa-times text-white text-xs flex items-center justify-center h-full"></i>`;

                            // Highlight the correct option
                            const correctOption = question.querySelector('.option[data-correct="true"]');
                            if (correctOption) {
                                correctOption.classList.add('correct');
                                const correctRadio = correctOption.querySelector('.w-6');
                                correctRadio.classList.remove('border-gray-300');
                                correctRadio.classList.add('bg-green-500', 'border-green-500');
                                correctRadio.innerHTML = `<i class="fas fa-check text-white text-xs flex items-center justify-center h-full"></i>`;
                            }
                            
                            // Style and populate feedback for incorrect answer
                            feedbackElement.classList.add('bg-red-50');
                            feedbackParagraph.classList.add('text-red-700');
                            feedbackParagraph.innerHTML = `<i class="fas fa-times-circle mr-2"></i><b>Leider falsch.</b> ${correctExplanationHTML}`;
                        }

                        // Show the feedback element
                        feedbackElement.classList.add('show');
                    });
                });
            });

            // --- Reset button functionality ---
            resetButton.addEventListener('click', () => {
                location.reload(); // Simple reload to reset everything
            });
        });
    </script>
</body>
</html>